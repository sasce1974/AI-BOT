<!DOCTYPE html>

<html>
<head>
    <title>HAI conversation</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script type="text/javascript" src="jquery.js"></script> 
</head>

<body>
<h3>insert comment</h3>
<form action="" method="post">
    <label>write here</label>
    <input type="text" name="input" id="input">
    <button type="submit" onclick="sendMessage()">Send</button>
    <div id="messages">Messages goes here...</div>
</form>
<script>
  //error debugging function
onerror = errorHandler;
function errorHandler(message, url, line)  {
    out  = "Sorry, an error was encountered.\n\n";
    out += "Error: " + message + "\n";
    out += "URL: "   + url     + "\n";
    out += "Line: "  + line    + "\n\n";
    out += "Click OK to continue.\n\n";
    alert(out);
    return true;
}
</script>
<script>
    $("#input").keypress(function(e){
        if (e.which==13) {
            e.preventDefault();
            sendMessage();
        }
    });
    function sendMessage() {
        var message = $("#input").val();
        $.post("hai_respond.php", {"input":message}, showMe);
    }
    function showMe(data, textStatus) {
        $("#messages").html(data, textStatus);
        $("#input").val("");
    }
</script>
</body>
</html>
